import{j as t,r as s}from"./jsx-runtime-CAOzMBF_.js";import{U as k}from"./proxyClient-HgQj7PMq.js";function D({children:f,label:l}){return t.jsxs("div",{className:"relative inline-block group",children:[f,t.jsx("div",{id:"tooltip",role:"tooltip",className:`absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2
                       hidden group-hover:block
                       bg-black text-white text-sm rounded-lg py-1 px-3
                       whitespace-normal break-words z-50
                       after:absolute after:top-full after:left-1/2 after:transform after:-translate-x-1/2
                       after:border-8 after:border-transparent after:border-t-black
                       transition-opacity duration-300`,children:l})]})}const y=({label:f,selectedCategory:l,onSelectCategory:x})=>{const[u,n]=s.useState(!1),[i,a]=s.useState(-1),p=s.useRef(null),m=s.useRef(null),b=s.useRef([]),c=Object.values(k);s.useEffect(()=>{const e=r=>{p.current&&!p.current.contains(r.target)&&(n(!1),a(-1))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const w=e=>{switch(e.key){case"ArrowDown":e.preventDefault(),n(!0),a(0);break;case"ArrowUp":e.preventDefault(),n(!0),a(c.length-1);break;case"Escape":u&&(e.preventDefault(),n(!1),a(-1));break}},g=(e,r)=>{var o,h;switch(e.key){case"ArrowDown":e.preventDefault(),a(d=>d<c.length-1?d+1:0);break;case"ArrowUp":e.preventDefault(),a(d=>d>0?d-1:c.length-1);break;case"Enter":case" ":e.preventDefault(),x(c[r]),n(!1),(o=m.current)==null||o.focus();break;case"Escape":e.preventDefault(),n(!1),a(-1),(h=m.current)==null||h.focus();break}};return s.useEffect(()=>{i>=0&&b.current[i]&&b.current[i].scrollIntoView({block:"nearest"})},[i]),t.jsxs("div",{className:"flex justify-center items-center space-x-5",ref:p,children:[t.jsx("label",{id:"dropdown-label",htmlFor:"custom-dropdown",className:"block text-lg font-medium text-gray-200 mb-1",children:f}),t.jsxs("button",{type:"button",className:"inline-flex justify-between w-48 rounded-md border border-orange-400 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500","aria-haspopup":"listbox","aria-expanded":u,"aria-labelledby":"dropdown-label",onClick:()=>n(e=>!e),onKeyDown:w,ref:m,children:[t.jsx("span",{className:"block truncate",children:l}),t.jsx("svg",{className:`-mr-1 ml-2 h-5 w-5 transform transition-transform duration-200 ${u?"rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.584l3.71-4.353a.75.75 0 111.14.976l-4.25 5a.75.75 0 01-1.14 0l-4.25-5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),u&&t.jsx("ul",{role:"listbox","aria-labelledby":"dropdown-label",tabIndex:-1,className:"absolute z-10 mt-1 w-48 bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm border border-orange-400",children:c.map((e,r)=>t.jsxs("li",{id:`listbox-option-${e}`,role:"option","aria-selected":l===e,tabIndex:-1,ref:o=>{o&&(b.current[r]=o)},className:`cursor-default select-none relative py-2 pl-10 pr-4 ${i===r?"text-white bg-indigo-600":"text-gray-900"}`,onClick:()=>{x(e),n(!1)},onMouseEnter:()=>a(r),onKeyDown:o=>g(o,r),children:[t.jsx("span",{className:`block truncate ${l===e?"font-medium":"font-normal"}`,children:e}),l===e&&t.jsx("span",{className:`absolute inset-y-0 left-0 flex items-center pl-3 ${i===r?"text-white":"text-indigo-600"}`,children:t.jsx("svg",{className:"h-5 w-5 text-orange-300",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 011.05.143l-8 10.5a.75.75 0 01-1.14.075l-4.5-4.5a.75.75 0 111.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})})})]},e))})]})};export{y as C,D as T};
