import{j as e,R as x}from"./jsx-runtime-CAOzMBF_.js";import{u as _,a as T}from"./queryOptions-BOPsIEkK.js";import{m as C}from"./consts-DKFDT57y.js";import{T as y,C as $}from"./CustomDropDown-BimewSco.js";import{L as A,V as D,Q as O}from"./Icons-CwZxN_tX.js";import{L as S,h as U}from"./components-B9677cET.js";import{u as Q}from"./index-BicWogre.js";import"./QueryClientProvider-BDE6StR7.js";import"./query-CYgPuyg8.js";import"./proxyClient-HgQj7PMq.js";function F({short_url:s,id:t,slug:a}){const i=`http://localhost:8000/api/url/redirect/${a}`,n=()=>{window.open(`${i}`,"_blank")};return e.jsxs("div",{className:"max-w-sm p-6 border-y border-orange-400 rounded-2xl flex items-center space-x-4 flex-col w-full h-auto",children:[e.jsx("div",{className:"inline-flex font-medium items-center gap-2",children:e.jsxs("button",{onClick:()=>n(),className:"w-full text-white py-2 px-5 rounded-xl transition flex items-center justify-center bg-transparent border-2 border-orange-500 hover:bg-orange-400 hover:text-black focus:outline-none focus:ring-2 focus:ring-blue-300 }","aria-label":"Shorten URL",children:[e.jsx(A,{}),s]})}),e.jsxs("div",{className:"mt-5 w-full flex items-center justify-between",children:[e.jsx(S,{to:C.view(t),className:"btn-grad",children:e.jsx(y,{label:"info",children:e.jsx(D,{})})}),e.jsx(S,{to:C.qr(t),className:"btn-grad",children:e.jsx(y,{label:"qr code",children:e.jsx(O,{})})})]})]})}const q=x.createContext({}),L=!0;function I({baseColor:s,highlightColor:t,width:a,height:i,borderRadius:n,circle:c,direction:d,duration:m,enableAnimation:o=L,customHighlightBackground:l}){const r={};return d==="rtl"&&(r["--animation-direction"]="reverse"),typeof m=="number"&&(r["--animation-duration"]=`${m}s`),o||(r["--pseudo-element-display"]="none"),(typeof a=="string"||typeof a=="number")&&(r.width=a),(typeof i=="string"||typeof i=="number")&&(r.height=i),(typeof n=="string"||typeof n=="number")&&(r.borderRadius=n),c&&(r.borderRadius="50%"),typeof s<"u"&&(r["--base-color"]=s),typeof t<"u"&&(r["--highlight-color"]=t),typeof l=="string"&&(r["--custom-highlight-background"]=l),r}function p({count:s=1,wrapper:t,className:a,containerClassName:i,containerTestId:n,circle:c=!1,style:d,...m}){var o,l,r;const E=x.useContext(q),w={...m};for(const[f,u]of Object.entries(m))typeof u>"u"&&delete w[f];const g={...E,...w,circle:c},P={...d,...I(g)};let N="react-loading-skeleton";a&&(N+=` ${a}`);const R=(o=g.inline)!==null&&o!==void 0?o:!1,h=[],b=Math.ceil(s);for(let f=0;f<b;f++){let u=P;if(b>s&&f===b-1){const j=(l=u.width)!==null&&l!==void 0?l:"100%",k=s%1,M=typeof j=="number"?j*k:`calc(${j} * ${k})`;u={...u,width:M}}const v=x.createElement("span",{className:N,style:u,key:f},"â€Œ");R?h.push(v):h.push(x.createElement(x.Fragment,{key:f},v,x.createElement("br",null)))}return x.createElement("span",{className:i,"data-testid":n,"aria-live":"polite","aria-busy":(r=g.enableAnimation)!==null&&r!==void 0?r:L},t?h.map((f,u)=>x.createElement(t,{key:u},f)):h)}function V(){return e.jsxs("div",{className:"max-w-sm p-6 border-y border-gray-400 rounded-2xl flex items-center space-x-4 flex-col w-full h-auto",children:[e.jsx("div",{className:"inline-flex font-medium items-center gap-2",children:e.jsxs("button",{className:"w-full text-white py-2 px-5 rounded-xl transition flex items-center justify-center bg-transparent border-2 border-gray-400 ","aria-label":"Shorten URL",children:[e.jsx(p,{circle:!0,height:24,width:24}),e.jsx(p,{width:"60%",height:20,style:{marginLeft:"0.5rem"}})]})}),e.jsxs("div",{className:"mt-5 w-full flex items-center justify-between",children:[e.jsx("div",{className:"btn-grad flex items-center justify-center w-10 h-10",children:e.jsx(p,{circle:!0,height:24,width:24})}),e.jsx("div",{className:"btn-grad flex items-center justify-center w-10 h-10",children:e.jsx(p,{circle:!0,height:24,width:24})})]})]})}function W({offset:s,limit:t,category:a,dataLength:i}){const[n,c]=Q(),d=o=>{c(l=>{const r=new URLSearchParams(l.toString());return r.set("offset",o.toString()),r.set("limit",t.toString()),r.set("category",a),r})},m=o=>{c({offset:"1",limit:t.toString(),category:o})};return e.jsxs("div",{className:"container mx-auto flex justify-center flex-col md:flex-row md:justify-between items-center space-y-5",children:[e.jsxs("div",{className:"space-x-8",children:[e.jsx("button",{onClick:()=>d(s-1),disabled:s<=1,className:"px-5 py-3 border border-orange-400 rounded-lg",children:"Prev"}),e.jsx("span",{className:"border-b border-orange-400",children:s}),i<t?e.jsx(y,{label:"no data",children:e.jsx("button",{disabled:i<t,onClick:()=>d(s+1),className:"px-5 py-3 border border-orange-400 rounded-lg",children:"Next"})}):e.jsx("button",{disabled:i<t,onClick:()=>d(s+1),className:"px-5 py-3 border border-orange-400 rounded-lg",children:"Next"})]}),e.jsx("div",{className:"",children:e.jsx($,{label:"Category",selectedCategory:a,onSelectCategory:m})})]})}function Y(){return e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 w-full",children:[e.jsx("div",{className:"w-16 h-16 mb-4 flex items-center justify-center text-gray-400",children:e.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M3 6h18M3 14h18M3 18h18"})})}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"No More Data"}),e.jsx("p",{className:"text-gray-500 text-center max-w-md",children:"You have reached the end! There are no more items to load at this time."})]})}function z({offset:s,limit:t,category:a}){const i=(s-1)*t,{data:n,error:c,isLoading:d}=_(T(t,i,a));if(c instanceof Error)return e.jsxs("div",{children:["Error: ",c.message]});const m=n==null?void 0:n.length;return e.jsxs(e.Fragment,{children:[n&&e.jsx(W,{category:a,limit:t,offset:s,dataLength:m}),e.jsx("div",{className:n&&n.length?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 justify-items-center w-full p-10":"flex w-full p-10",children:d?Array.from({length:t}).map((o,l)=>e.jsx(V,{},l)):n&&n.length?n.map(o=>e.jsx(F,{id:o.id,short_url:o.short_url,slug:o.slug},o.id)):e.jsx(Y,{})})]})}function se(){const{offset:s,limit:t,category:a}=U();return e.jsx(z,{category:a,limit:t,offset:s})}export{se as default};
